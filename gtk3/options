#!/bin/bash

SOURCE_DIR_PREFIX=gtk+-

function configure_commands()
{
  # silences several useless and annoying warnings generated by libtool.
  sed -i "/seems to be moved/s/^/#/" build-aux/ltmain.sh &&

  # Gtk+ 3 will overwrite gtk-update-icon-cache from gtk+-2.24.10
  # if it is installed. There is nothing wrong about that assuming
  # that both programs provide same functionality. If you wish to
  # keep one from Gtk+ 2 you can add --enable-gtk2-dependency to
  # the configure command.
  ./configure \
    --prefix=/usr \
    --sysconfdir=/etc \
    --enable-broadway-backend \
    --enable-x11-backend \
    --enable-gtk2-dependency
}

function make_commands()
{
  make
}

function test_commands()
{
  rm tests/css/parser/selector.css &&
  rm tests/a11y/pickers.ui &&
  make -k check || echo "Darn $? ... oh well."
}

function install_commands()
{
  make install &&
  echo "INSTALL COMPLETE"
}
